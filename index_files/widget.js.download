(()=>{"use strict";function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function t(e,t,r){return(t=a(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],s=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){l=!0,a=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}function o(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,c(e,t,"get"))}function i(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,c(e,t,"set"),r),r}function c(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function s(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}function l(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function p(e,t,r){l(e,t),t.set(e,r)}function u(e,t){l(e,t),t.add(e)}var d=[" daum[ /]"," deusu/"," yadirectfetcher","(?:^| )site","(?:^|[^g])news","@[a-z]","\\(at\\)[a-z]","\\(github\\.com/","\\[at\\][a-z]","^12345","^<","^[\\w \\.\\-\\(\\)]+(/v?\\d+(\\.\\d+)?(\\.\\d{1,10})?)?$","^[^ ]{50,}$","^active","^ad muncher","^amaya","^anglesharp/","^anonymous","^avsdevicesdk/","^axios/","^bidtellect/","^biglotron","^btwebclient/","^castro","^clamav[ /]","^client/","^cobweb/","^coccoc","^custom","^ddg[_-]android","^discourse","^dispatch/\\d","^downcast/","^duckduckgo","^facebook","^fdm[ /]\\d","^getright/","^gozilla/","^hatena","^hobbit","^hotzonu","^hwcdn/","^jeode/","^jetty/","^jigsaw","^linkdex","^lwp[-: ]","^metauri","^microsoft bits","^movabletype","^mozilla/\\d\\.\\d \\(compatible;?\\)$","^mozilla/\\d\\.\\d \\w*$","^navermailapp","^netsurf","^offline explorer","^php","^postman","^postrank","^python","^read","^reed","^restsharp/","^snapchat","^space bison","^svn","^swcd ","^taringa","^test certificate info","^thumbor/","^tumblr/","^user-agent:mozilla","^valid","^venus/fedoraplanet","^w3c","^webbandit/","^webcopier","^wget","^whatsapp","^xenu link sleuth","^yahoo","^yandex","^zdm/\\d","^zoom marketplace/","^{{.*}}$","adbeat\\.com","appinsights","archive","ask jeeves/teoma","bit\\.ly/","bluecoat drtr","bot","browsex","burpcollaborator","capture","catch","check","chrome-lighthouse","chromeframe","cloud","crawl","cryptoapi","dareboost","datanyze","dataprovider","dejaclick","dmbrowser","download","evc-batch/","feed","firephp","freesafeip","ghost","gomezagent","google","headlesschrome/","http","httrack","hubspot marketing grader","hydra","ibisbrowser","images","iplabel","ips-agent","java","library","mail\\.ru/","manager","monitor","morningscore/","neustar wpm","nutch","offbyone","optimize","pageburst","pagespeed","perl","phantom","pingdom","powermarks","preview","proxy","ptst[ /]\\d","reader","rexx;","rigor","rss","scan","scrape","search","serp ?reputation ?management","server","sogou","sparkler/","speedcurve","spider","splash","statuscake","stumbleupon\\.com","supercleaner","synapse","synthetic","taginspector/","torrent","tracemyfile","transcoder","trendsmapresolver","twingly recon","url","virtuoso","wappalyzer","webglance","webkit2png","websitemetadataretriever","whatcms/","wordpress","zgrab"];!function(e){try{new RegExp("(?<! cu)bot").test("dangerbot")}catch(t){return e}[["bot","(?<! cu)bot"],["google","(?<! (?:channel/|google/))google(?!(app|/google| pixel))"],["http","(?<!(?:lib))http"],["java","java(?!;)"],["search","(?<! ya(?:yandex)?)search"]].forEach((function(t){var n=r(t,2),a=n[0],o=n[1],i=e.lastIndexOf(a);~i&&e.splice(i,1,o)}))}(d);var h=new WeakMap,f=new WeakMap,g=new WeakSet,m=new WeakSet;function w(){i(this,f,new RegExp(o(this,h).join("|"),"i"))}function v(e){return o(this,h).indexOf(e.toLowerCase())}var y=new(function(){function n(e){var a=this;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),u(this,m),u(this,g),p(this,h,{writable:!0,value:void 0}),p(this,f,{writable:!0,value:void 0}),i(this,h,e||d.slice()),s(this,g,w).call(this),Object.defineProperties((function(e){return a.test(e)}),Object.entries(Object.getOwnPropertyDescriptors(n.prototype)).reduce((function(e,n){var o=r(n,2),i=o[0],c=o[1];return"function"==typeof c.value&&Object.assign(e,t({},i,{value:a[i].bind(a)})),"function"==typeof c.get&&Object.assign(e,t({},i,{get:function(){return a[i]}})),e}),{}))}var a,c;return a=n,c=[{key:"pattern",get:function(){return new RegExp(o(this,f))}},{key:"test",value:function(e){return Boolean(e)&&o(this,f).test(e)}},{key:"find",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").match(o(this,f));return e&&e[0]}},{key:"matches",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return o(this,h).filter((function(t){return new RegExp(t,"i").test(e)}))}},{key:"clear",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.exclude(this.matches(e))}},{key:"extend",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];[].push.apply(o(this,h),t.filter((function(t){return-1===s(e,m,v).call(e,t)})).map((function(e){return e.toLowerCase()}))),s(this,g,w).call(this)}},{key:"exclude",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.length;t--;){var r=s(this,m,v).call(this,e[t]);r>-1&&o(this,h).splice(r,1)}s(this,g,w).call(this)}},{key:"spawn",value:function(e){return new n(e||o(this,h))}}],c&&e(a.prototype,c),Object.defineProperty(a,"prototype",{writable:!1}),n}());const b="_one_click_popup",k=`one-click-popup-${(e=>{let t=27,r=5381,n=52711;for(;t--;){const a=e.charCodeAt(t);r=33*r^a,n=33*n^a}return 4096*(r>>>0)+(n>>>0)})("https://app.1clickpopup.com")}`,_=`${b}_sessions_count`,x=`${b}_last_visited_path`,j=(e,t,r,n)=>{let a="",o="";if(r){let e=new Date;e.setTime(e.getTime()+60*r*1e3),a="; expires="+e.toUTCString()}n&&(o="; domain="+n),S().document.cookie=e+"="+escape(t)+a+o+"; path=/"},S=()=>window.Shopify?window:window.parent,O=()=>Number((e=>{let t,r,n=e+"=",a=S().document.cookie.split(";");for(t=0;t<a.length;t++){for(r=a[t];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(n))return unescape(r.substring(n.length,r.length))}return null})(_));function E(e,t,r){if(navigator.sendBeacon){if(["Load failed","Failed to fetch","NetworkError when attempting to fetch resource."].indexOf(e.message)>=0)return;const n=new FormData;n.append("error",e.name+": "+e.message),n.append("caller",t),r&&n.append("popup_id",r.id),navigator.sendBeacon("https://app.1clickpopup.com/api/v1/front_end/error",n)}}(()=>{try{const e=e=>{try{const t=window[e],r="__storage_test__";return t.setItem(r,r),t.removeItem(r),!0}catch(e){return!1}},t=async(e,t)=>{try{if(!document.querySelector(`iframe#${k}`)){const r=await function(e,t){const r=[`shop=${window.Shopify.shop}`];return t&&Object.keys(t).forEach((e=>r.push(`${e}=${t[e]}`))),fetch(`https://app.1clickpopup.com/api/v1/front_end/${e}?${r.join("&")}`)}(e,t),n=await r.text(),a=document.createElement("iframe");a.id=k,a.srcdoc=n,a.title="1ClickPopup",a.style.position="fixed",a.style.left="0",a.style.bottom="0",a.style.height="0",a.style.width="0",a.style.zIndex="2147483647",a.style.border="none",document.body.appendChild(a)}}catch(e){E(e,"app#loadFrame")}},r=()=>{try{t("",{new_visitor:1===O()})}catch(e){E(e,"app#loadPopups")}},n=e=>{try{t(`${e}/preview`)}catch(e){E(e,"app#loadPopupPreview")}},a=()=>{try{const a=e("localStorage")&&e("sessionStorage");if(!y(navigator.userAgent)&&a){const e=window.location.href;if(e.indexOf("?one_click_popup_preview_token=")>-1){const[,t]=e.split("?one_click_popup_preview_token="),[r,a,o]=atob(t).split("_");"https://app.1clickpopup.com"===r&&(new Date-new Date(a))/6e4<20&&n(o)}else{const n=localStorage.getItem(`${b}_last_visited`);t=!n||Math.round((new Date-new Date(n))/6e4)>30?O()+1:O(),j(_,t,43800),((e,t)=>{try{localStorage.setItem(e,t)}catch(e){}})(`${b}_last_visited`,(new Date).toISOString()),window.addEventListener("pagehide",(()=>{try{j(x,(()=>{const{origin:e,pathname:t}=window.location;return e+t})(),30),((e,t)=>{try{sessionStorage.setItem(e,t)}catch(e){}})(`${b}_last_visited_page`,e)}catch(e){E(e,"app#window.addEventListener('pagehide')")}})),r()}}}catch(e){E(e,"app#perform")}var t};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",a):a(),window.addEventListener("pageshow",(e=>{try{e.persisted&&a()}catch(e){E(e,"app#pageshow")}}))}catch(e){E(e,"app")}})()})();